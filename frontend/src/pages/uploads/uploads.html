<!doctype html>
<html lang="de">
  <head>
    <meta name="robots" content="noindex, follow" />
  </head>

  <body>
    <div class="container" id="app">
      <div class="d-flex align-items-center flex-column flex-md-row gap-2 gap-md-3 mb-2">
        <div class="d-flex gap-2">
          <button type="button" class="btn btn-primary" id="show-add-upload-button">
            <i class="fa-solid fa-plus" aria-hidden="true"></i>
            Neu
          </button>
          <input type="checkbox" class="btn-check" id="edit-toggle" />
          <label class="btn btn-outline-secondary" for="edit-toggle" id="edit-toggle-label">
            <i class="fa-solid fa-edit"></i>
            Bearbeiten
          </label>

          <input type="checkbox" class="btn-check" id="filter-toggle" />
          <label class="btn btn-outline-secondary position-relative" for="filter-toggle">
            <i class="fa-solid fa-filter"></i>
            Filtern
            <span class="filter-info-circle" id="filter-changed"></span>
          </label>
        </div>
        <div id="filter-content" class="ds-flex align-items-center flex-row gap-2">
          <div class="dropdown">
            <button class="btn btn-sm btn-outline-secondary dropdown-toggle" data-bs-toggle="dropdown">Art</button>
            <div class="dropdown-menu" id="filter-type-dropwdown">
              <div class="px-2 py-0">
                <button class="btn btn-outline-secondary btn-sm" id="filter-type-all">Alle</button>
                <button class="btn btn-outline-secondary btn-sm" id="filter-type-none">Keine</button>
              </div>
              <div class="dropdown-divider"></div>
              <div class="px-2 py-0" id="filter-type-list">
                <!--Gets filled-->
              </div>
            </div>
          </div>
          <div class="dropdown">
            <button class="btn btn-sm btn-outline-secondary dropdown-toggle" data-bs-toggle="dropdown">Datum</button>
            <div class="dropdown-menu" id="filter-date-dropwdown">
              <div class="px-2 py-1">
                <div class="d-flex align-items-center mb-3">
                  <label class="mb-0 me-2 text-nowrap" for="filter-date-from">Von</label>
                  <input type="date" class="form-control form-control-sm filter-date" id="filter-date-from" />
                </div>
                <div class="d-flex align-items-center">
                  <label class="mb-0 me-2 text-nowrap" for="filter-date-until">Bis</label>
                  <input type="date" class="form-control form-control-sm filter-date" id="filter-date-until" />
                </div>
              </div>
            </div>
          </div>
        </div>
        <button class="btn btn-secondary" id="filter-reset">
          <i class="fa-solid fa-trash" aria-hidden="true"></i>
          Zurücksetzen
        </button>
      </div>

      <div class="container-fluid mt-3 row row-cols-2 row-cols-sm-3 row-cols-md-4 row-cols-xl-6 mx-0" id="upload-list">
        <!--Gets filled-->
      </div>

      <div class="modal fade" id="add-upload-modal" aria-labelledby="add-upload-modal-label">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="add-upload-modal-label">Dateien hochladen</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Schließen"></button>
            </div>
            <div class="modal-body">
              <div class="mb-3">
                <label for="add-upload-name" class="form-label">Bennene die Dateien</label>
                <input type="text" class="form-control add-upload-input" id="add-upload-name" placeholder='zum Beispiel "Hefteintrag Mathe" ' />
              </div>

              <div class="mb-3">
                <label for="add-upload-files" class="form-label">Wähle Dateien zum Hochladen aus</label>
                <input type="file" class="form-control add-upload-files" id="add-upload-files" accept=".pdf, .jpg, .jpeg, .png, .txt" multiple />
                <div class="form-text">Unterstütze Formate: PDF, JPG, PNG, TXT</div>
                <div class="form-text">Du kannst das nachher nicht mehr ändern, nur alles löschen.</div>
              </div>

              <div class="mb-3">
                <label for="add-upload-type" class="form-label">Wähle die Art der Datei aus</label>
                <select class="form-select add-upload-input" id="add-upload-type">
                  <option value="" disabled selected>Art</option>
                  <option value="LESSON_NOTE">Hefteintrag</option>
                  <option value="WORKSHEET">Arbeitsblatt</option>
                  <option value="INFO_SHEET">Infozettel</option>
                  <option value="TEXT">Text</option>
                  <option value="FILE">Andere Datei</option>
                  <option value="IMAGE">Anderes Bild</option>
                </select>
                <div class="form-text">Das beeinflusst nur die Darstellung und Filter.</div>
              </div>

              <label for="add-upload-team" class="form-label">Wähle ein Team für die Datei aus (optional)</label>
              <select class="form-select add-upload-input" id="add-upload-team">
                <option value="-1" selected>Alle</option>
                <!-- Gets filled -->
              </select>
            </div>
            <div class="modal-footer">
              <button class="btn btn-secondary" data-bs-dismiss="modal">Abbrechen</button>
              <button class="btn btn-primary" id="add-upload-button">Hochladen</button>
            </div>
          </div>
        </div>
      </div>

      <div class="modal fade" id="view-upload-modal" aria-labelledby="view-upload-modal-label">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="view-upload-modal-label">
                Datei:
                <b></b>
              </h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Schließen"></button>
            </div>
            <div class="modal-body">

              <object id="view-upload-object">
                Vorschau nicht möglich. <a>Datei öffnen</a>.
              </object>

              <iframe id="pdf-viewer-frame" style="width:100%; height:100%; border:none;"></iframe>

            </div>
            <div class="modal-footer">
              <button class="btn btn-primary w-100" data-bs-dismiss="modal">Fertig</button>
            </div>
          </div>
        </div>
      </div>

      <div class="modal fade" id="edit-event-modal" aria-labelledby="edit-event-modal-label">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="edit-event-modal-label">Ereignis bearbeiten</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Schließen"></button>
            </div>
            <div class="modal-body">
              <div class="mb-3">
                <label for="edit-event-type" class="form-label">Wähle die Art des Ereignisses aus</label>
                <select class="form-select edit-event-input" id="edit-event-type">
                  <option value="" disabled selected>Art</option>
                  <!-- Gets filled -->
                </select>
              </div>

              <div class="mb-3">
                <label for="edit-event-name" class="form-label">Bennene das Ereignis</label>
                <input type="text" class="form-control edit-event-input" id="edit-event-name" placeholder='zum Beispiel "Schulaufgabe Latein"' />
              </div>

              <div class="mb-3">
                <label for="edit-event-description" class="form-label">Füge eine Beschreibung für das Ereignis hinzu (optional)</label>
                <textarea
                  type="text"
                  class="rich-textarea edit-event-input"
                  id="edit-event-description"
                  placeholder="zum Beispiel abgefragter Stoff"
                ></textarea>
              </div>

              <div class="mb-3">
                <label for="edit-event-start-date" class="form-label">Gib ein, wann das Ereignis stattfindet</label>
                <input type="date" class="form-control edit-event-input" id="edit-event-start-date" />
              </div>

              <div class="row mb-3">
                <div class="col">
                  <label for="edit-event-lesson" class="form-label">Gib eine Unterrichtsstunde an (optional)</label>
                  <input type="text" class="form-control edit-event-input" id="edit-event-lesson" placeholder='zum Beispiel "2" oder "1-3"' />
                  <div class="form-text">zum Beispiel für Schulaufgaben</div>
                </div>

                <div class="col">
                  <label for="edit-event-end-date" class="form-label">Gib ein Enddatum an (optional)</label>
                  <input type="date" class="form-control edit-event-input" id="edit-event-end-date" />
                  <div class="form-text">zum Beispiel für Ferien</div>
                </div>
              </div>

              <label for="edit-event-team" class="form-label">Wähle ein Team für das Ereignis aus (optional)</label>
              <select class="form-select edit-event-input" id="edit-event-team">
                <option value="-1" selected>Alle</option>
                <!-- Gets filled -->
              </select>
            </div>
            <div class="modal-footer">
              <button class="btn btn-secondary" data-bs-dismiss="modal">Abbrechen</button>
              <button class="btn btn-primary" id="edit-event-button">Speichern</button>
            </div>
          </div>
        </div>
      </div>

      <div class="toast-container">
        <div id="add-upload-success-toast" class="toast">
          <div class="toast-progress-bar bg-primary"></div>
          <div class="toast-header bg-primary text-body-bg">
            <b class="me-auto">Dateien hochgeladen</b>
            <button type="button" class="btn-close btn-close-invert" data-bs-dismiss="toast" aria-label="Schließen"></button>
          </div>
          <div class="toast-body">Die Dateien wurden hochgeladen. Es kann kurz dauern, bis sie sichtbar sind.</div>
        </div>
        <div id="add-upload-unsupported-mime-type-toast" class="toast">
          <div class="toast-progress-bar bg-danger"></div>
          <div class="toast-header bg-danger text-body-bg">
            <b class="me-auto">Nicht unterstütztes Format</b>
            <button type="button" class="btn-close btn-close-invert" data-bs-dismiss="toast" aria-label="Schließen"></button>
          </div>
          <div class="toast-body">Das Dateiformat ist nicht unterstützt. Kontaktiere uns, wenn dir eine Unterstützung wichtig ist.</div>
        </div>
        <div id="edit-event-success-toast" class="toast">
          <div class="toast-progress-bar bg-success"></div>
          <div class="toast-header bg-success text-body-bg">
            <b class="me-auto">Erfolgreich geändert</b>
            <button type="button" class="btn-close btn-close-invert" data-bs-dismiss="toast" aria-label="Schließen"></button>
          </div>
          <div class="toast-body">Das Ereignis wurde erfolgreich geändert.</div>
        </div>
        <div id="delete-event-success-toast" class="toast">
          <div class="toast-progress-bar bg-success"></div>
          <div class="toast-header bg-success text-body-bg">
            <b class="me-auto">Erfolgreich gelöscht</b>
            <button type="button" class="btn-close btn-close-invert" data-bs-dismiss="toast" aria-label="Schließen"></button>
          </div>
          <div class="toast-body">Das Ereignis wurde erfolgreich gelöscht.</div>
        </div>
        <div id="delete-event-confirm-toast" class="toast" data-bs-autohide="false">
          <div class="toast-header bg-primary text-body-bg">
            <b class="me-auto">Bitte bestätigen</b>
            <button type="button" class="btn-close btn-close-invert" data-bs-dismiss="toast" aria-label="Schließen"></button>
          </div>
          <div class="toast-body">
            Möchtest du das Ereignis wirklich löschen?
            <div class="mt-2 pt-2 border-top">
              <div class="row g-2 justify-content-end">
                <div class="col-auto">
                  <button type="button" class="btn btn-secondary btn-sm" data-bs-dismiss="toast">Abbrechen</button>
                </div>
                <div class="col-auto">
                  <button type="button" class="btn btn-primary btn-sm" data-bs-dismiss="toast" id="delete-event-confirm-toast-button">Löschen</button>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div id="share-event-error-toast" class="toast">
          <div class="toast-progress-bar bg-danger"></div>
          <div class="toast-header bg-danger text-body-bg">
            <b class="me-auto">Fehler beim Teilen</b>
            <button type="button" class="btn-close btn-close-invert" data-bs-dismiss="toast" aria-label="Schließen"></button>
          </div>
          <div class="toast-body">Das Ereignis konnte nicht geteilt werden. Vielleicht ist die Zeit der angegebenen Stunde nie definiert?</div>
        </div>
      </div>
    </div>
  </body>
</html>
